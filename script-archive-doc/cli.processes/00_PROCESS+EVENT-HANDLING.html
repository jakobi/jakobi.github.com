<HTML>
<HEAD>
<link rel="icon"          href="/favicon.png"/>
<link rel="shortcut icon" href="/favicon.png"/>
<meta name="description" content="Process Handling: wait for file or process-related events with waitcond. kill/list/nice processes with zap">
<meta name="keywords" content="process handling wait file process-related events waitcond kill list nice processes zap unix shell perl scripts">
<meta name="author" content="Peter Jakobi">
<TITLE>Peter's Script-Archive - Process Handling</TITLE>
<style type="text/css"><!--
   .anno { font-size:.8em }
--></style>
<style type="text/css"><!--
   .num { padding-left:1em; text-align:right; nopadding-right:1em}
   .repo{ text-align:center}
   .file{ nopadding-left:1em; font-family:monospace}
.desc{ padding-left:2em}
--></style>
</HEAD>

<BODY>

<p class=anno>
<a href="http://jakobi.github.com/">HOME</a>                                          &nbsp;|&nbsp; 
<a href="http://github.com/jakobi/">GIT Overview</a>          &nbsp;|&nbsp;
Script-Archive:
<a href="/script-archive-doc/">(docs)</a> : 
<a href="http://wiki.github.com/jakobi/script-archive/">(wiki)</a> : 
<a href="http://github.com/jakobi/script-archive">(git)</a>    &nbsp;|&nbsp;
...
</p>

<H1>Peter's Script-Archive - Process Handling</H1>

<hr>

<p>Some  scripts  for  dealing  with  processes  and   process-related
events.</p>

<H3>Major Commands</H3>

<p><a href="http://github.com/jakobi/script-archive/tree/master/cli.processes/">Git
    View of this section / Download</a></p>


<ul>
   <li><b>waitcond</b> (perl) - test or wait for an event. Like tagls/Grep.pm, 
       this one also offers boolean expressions, this time on top of a 
       language of tests including
   <ul>
      <LI>(dis)appearance of files
      <LI>(dis)appearance of processes in ps output
      <LI>threshold-based file modification time (file is recent/idle)
      <LI>threshold-based cpu/net/disk idleness
      <LI>host pinging
      <LI>return code of shell commands
      <LI>grep in files or command output
      <LI>detect changes in files or command output (needs watch_delta below)
   </ul>
       See waitcond.dbus.README for ideas on using dbus-events with waitcond
       (waiting for events like 'ping', HAL, FUSE, Desktop-Notifications).
       You will probably want to combine waitcond with some notification tool 
       like the trumpets of Jericho (or just ALARM, maybe also something boring 
       like eMail or SMS) to be indeed sucessfully notified of the fact that your 20 hour 
       compile just failed with a syntax error after just 58 minutes... . 
       Published on <a href="http://freshmeat.net/projects/waitcond">freshmeat</a>
       and <a href="http://search.cpan.org/search?query=waitcond">cpan</a>. 
       (the changes between version 0.2.2 to 0.32 are just CPAN-related and don't
        change the actual code).
   <li>A simplified variant with different history and codebase is
       <b>fwait/pwait</b>, which is probably the most authentic and still used version
       of my original boolean regex patch that I created for a small perl fulltext
       indexer (96-97 maybe?). Note that neither fwait nor waitcond allow 
       arbitrary perl (e.g. 'do{}') in the boolean expression.
   <li><b>waitcond.timeout</b> is an extended version of Piotr Roszatycki's script.
       It runs a command and kills it after a period. The
       timelimit specification allows using a command such as waitcond. (Simple 
       timeout programs are also available as timeout.dep and in the GNU coreutils).
  <li><b>watch_delta</b> repeatedly runs a command and continuously report lines 
       or diff sections. Used to detect command output changes in waitcond, with
       a special "netstat -c"-style mode to get a really usable continuous output
       from netstat -apnW augmented with information from /proc.
   <li><b>zap</b> (perl) has come a long way from the its old incarnation in the camel book. 
       Nowadays it lists, nices or kills processes or process trees 
       matching a regex with or without user interaction. Includes ionice support 
       and also tries to cpulimit for higher nice values (if a cpulimit or ionice
       command is available and zap's nice-personality is active).
</ul>


<hr>
<p class=anno>
<a href="http://jakobi.github.com/">HOME</a>                                          &nbsp;|&nbsp; 
<a href="http://github.com/jakobi/">GIT Overview</a>          &nbsp;|&nbsp;
Script-Archive:
<a href="/script-archive-doc/">(docs)</a> : 
<a href="http://wiki.github.com/jakobi/script-archive/">(wiki)</a> : 
<a href="http://github.com/jakobi/script-archive">(git)</a>    &nbsp;|&nbsp;
...
</p>

<p class=anno>jakobi(at)acm.org, 2009-07 - 2012-01</p>

</BODY>
</HTML>
